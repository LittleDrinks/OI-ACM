---
tags:
  - 闪念
aliases:
---
https://blog.csdn.net/qq_41829060/article/details/98030200
https://www.jianshu.com/p/1c1849d876b2

列数为奇数时，逆序数为偶数，必然有解。
列数为偶数时，（逆序数）与（当前空格所在的行数和初始空格所在的行数之差）的和为偶数时必然有解。

先考虑必要性。
每次操作只能是一个数字和空格交换位置。
左右操作，逆序数和空格行数不变
上下操作，会把这个数字在序列中前移 $m-1$ 个位置，当列数为奇数时，逆序数不变，当列数为偶数时，逆序数一定改变，空格行数也一定改变，此时两者之和一定不变。
在此基础上，空格可以移动到任何位置，任何数字也可以移动到任何位置，因此充分性成立
