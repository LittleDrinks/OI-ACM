---
tags:
---
```cpp
// checker.cpp
while (1) {
	system("A_gen > _data.in");  // linux 下换成 ./xxx
	system("A_bf < _data.in > A.ans");
	system("A < _data.in > A.ans");
	if (system("fc A.out A.ans")) {  // linux 下换成 diff
		cout << "WA\n"; return 0;
	} else {
		cout << "AC\n";
	}
}
```
.sh 脚本
```cpp
#!/bin/bash
P=$1
g++ -std=gnu++20 -O2 "${P}.cpp" -o "${P}"
g++ -std=gnu++20 -O2 "${P}_bf.cpp" -o "${P}_bf"
g++ -std=gnu++20 -O2 "${P}_gen.cpp" -o "${P}_gen"
while true; do
    ./"${P}_gen" > ".in"
    ./"${P}" < ".in" > ".out"
    ./"${P}_bf" < ".in" > ".ans"
    if diff ".out" ".ans" > /dev/null; then
        echo "AC"
    else
        echo "WA"
        break
    fi
done
```
