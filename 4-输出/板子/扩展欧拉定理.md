$$
a^b \equiv 
\begin{cases} 
    a^{b \bmod \varphi(m)}, & \gcd(a,m) = 1, \\ 
    a^b, & \gcd(a,m) \neq 1, \, b < \varphi(m), \\ 
    a^{(b \bmod \varphi(m)) + \varphi(m)}, & \gcd(a,m) \neq 1, \, b \geq \varphi(m). 
\end{cases}
\pmod{m}
$$