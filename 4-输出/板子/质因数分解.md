$O(\sqrt n)$ 分解单个素因数
```cpp
typedef pair<int, int> pii;
vector<pii> divide(int n) {
	vector<pii> primes;
	int cnt = 0;
	for (int i = 2; i <= sqrt(n); i++) {
		cnt = 0;
		while (n % i == 0)n /= i, cnt++;
		if (cnt)primes.push_back(make_pair(i, cnt));
	}
	if (n > 1)primes.push_back(make_pair(n, 1));
	return primes;
}
//注意1要特判，n==1时会返回空集
```
线性预处理+ $O(\log n)$ 分解
```cpp
vector<int> sieve(int n, vector<int>& mP)
{
    vector<bool> vis(n + 1);
    vector<int> prime;
    vis[1] = 1;
    for (int i = 2; i <= n; ++i) {
        if (!vis[i]) {
            prime.push_back(i);
            mP[i] = i;
        }
        for (auto p : prime) {
            if (i * p > n) { break; }
            vis[i * p] = 1;
            mP[i * p] = p;
            if (i % p == 0) { break; }  // 线性筛关键优化
        }
    }
    return prime;
}

void solve() {
    int n;
    cin >> n;
    vector<int> minp(n + 1, 1);
    vector<int> prime = sieve(n, minp);
    auto divide = [&](int x) {
        vector<pii> res;
        for (int y = x; y > 1; y /= minp[y]) {
            if (res.empty() || res[res.size() - 1].first != minp[y])res.push_back({ minp[y], 1 });
            else res[res.size() - 1].second++;
        }
        return res;
        };
}
```
