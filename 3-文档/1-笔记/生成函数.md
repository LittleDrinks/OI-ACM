---
tags:
  - 笔记
aliases:
  - "#生成函数"
---
# 形式幂级数

> [!note] 形式幂级数
> 多项式：$A(x)=\sum_{i=0}^n a_ix^i$
> 形式幂级数：$A(x)=\sum_{i\ge 0} a_ix^i$

> [!note] 形式幂级数的运算
> $A(x)+B(x)=\sum_{i\ge 0}(a_i+b_i)x^i$
> $A(x)-B(x)=\sum_{i\ge 0}(a_i-b_i)x^i$
> $A(x)\times B(x)=\sum_{k\ge 0}(\sum_{i+j=k}a_i+b_j)x^k$

记形式幂级数 $A(x)$ 的 $n$ 次项系数为 $[x^n]A(x)$

形式幂级数 $A(x)$ 的逆元 $B(x)$ 满足 $A(x)B(x)=1$
$A(x)B(x)=a_0b_0+(a_0b_1+a_1b_0)x+\ldots$，从第 $0$ 项开始往后递推，每一项只有一个未知数
$A(x)$ 逆元存在的条件为 $[x^0]A(x)\ne 0$

常见的逆元
$A(x)=\sum_{i\ge0}x^i$ 和 $B(x)=1-x$
$A(x)=\sum_{i\ge 0} a^ix^i$ 和 $B(x)=1-ax$
$A(x)=\sum_{i\ge 0} {i+k-1\choose i}x^i$ 和 $B(x)=(1-x)^k$

# 常生成函数

> [!note] 常生成函数
> 一个数列 $\{a_n\}$ 对应的常生成函数为 $A(x)=\sum_{n\ge 0} a_nx^n$

> [!note] 定理
> 设 $S=\{a_1,a_2,\ldots,a_k\}$，且 $a_i$ 可以取的次数的集合为 $M_i$。
> 记 $F_i(x)=\sum_{u\in M_i}x^u$
> 则从 $S$ 中取出 $n$ 个元素组成集合的方案数 $g(n)$ 的常生成函数 $G(x)=\sum_{i\ge 0}g(i)x^i$ 满足
> $$
> G(x)=\prod_{i=1}^kf_i(x)
> $$


> [!faq] 不定方程解的数量
> 把第 $i$ 项看作一个常生成函数，指数上写 $i$ 位置想要填的数字，系数为方案数
> 可以拓展不定方程的形式，比如限制第 $i$ 项必须在 $[L_i,R_i]$，或者计算不定方程 $\sum_{i=1}^na_ix_i=m$ 的解的数量

生成函数只是一个形式上的工具。
普通生成函数 $f(x)=\sum_{k=0}^\infty x^k$。通常我们可以指定 $0<|x|<1$ 并使用几何级数将其化为 $\dfrac{1}{1-x}$。这个式子方便我们对若干个生成函数进行乘法操作，并最终重新化回幂级数得到答案。
[[lanqiao3530|高塔]]
